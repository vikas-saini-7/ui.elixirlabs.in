{
  "name": "on-this-page",
  "type": "registry:ui",
  "description": "A on-this-page component",
  "dependencies": [
    "react"
  ],
  "devDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/ui/on-this-page.tsx",
      "content": "\"use client\";\n\nimport { useState, useEffect, ReactNode } from \"react\";\n\nexport interface OnThisPageItem {\n  title: string;\n  href: string;\n}\n\nexport interface OnThisPageSection {\n  items?: OnThisPageItem[];\n}\n\nexport interface OnThisPageProps {\n  sections: OnThisPageSection[];\n\n  /** Title text */\n  title?: string;\n  /** Active link color classes */\n  activeClassName?: string;\n  /** Inactive link color classes */\n  inactiveClassName?: string;\n  /** Active indicator color classes */\n  indicatorClassName?: string;\n\n  /** IntersectionObserver root margin */\n  rootMargin?: string;\n  /** Smooth scroll or auto */\n  scrollBehavior?: ScrollBehavior;\n\n  /** Custom render for item */\n  renderItem?: (item: OnThisPageItem, isActive: boolean) => ReactNode;\n}\n\nexport function OnThisPage({\n  sections,\n  title = \"On this page\",\n  activeClassName = \"text-white\",\n  inactiveClassName = \"text-neutral-400 hover:text-white\",\n  indicatorClassName = \"bg-gradient-to-b from-purple-400 to-purple-500\",\n  rootMargin = \"-20% 0% -70% 0%\",\n  scrollBehavior = \"smooth\",\n  renderItem,\n}: OnThisPageProps) {\n  const [activeId, setActiveId] = useState<string>(\"\");\n\n  useEffect(() => {\n    const sectionIds = sections.flatMap(\n      (section) =>\n        section.items?.map((item) => item.href.replace(\"#\", \"\")) || [],\n    );\n    if (!sectionIds.length) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        const visible = entries.filter((entry) => entry.isIntersecting);\n        if (visible.length > 0) {\n          const top = visible.sort(\n            (a, b) => a.boundingClientRect.top - b.boundingClientRect.top,\n          )[0];\n          setActiveId(top.target.id);\n        }\n      },\n      { rootMargin, threshold: [0, 0.1] },\n    );\n\n    sectionIds.forEach((id) => {\n      const el = document.getElementById(id);\n      if (el) observer.observe(el);\n    });\n\n    return () => observer.disconnect();\n  }, [sections, rootMargin]);\n\n  const handleClick = (href: string) => {\n    const id = href.replace(\"#\", \"\");\n    const el = document.getElementById(id);\n    if (el) {\n      el.scrollIntoView({ behavior: scrollBehavior });\n      setActiveId(id);\n    }\n  };\n\n  const getActiveItemPosition = () => {\n    let index = 0;\n    for (const section of sections) {\n      for (const item of section.items || []) {\n        if (activeId === item.href.replace(\"#\", \"\")) {\n          return index * 28 + 2;\n        }\n        index++;\n      }\n    }\n    return 2;\n  };\n\n  return (\n    <div className=\"hidden lg:block w-64 text-neutral-300\">\n      <h2 className=\"mb-3 text-sm font-semibold text-white\">{title}</h2>\n      <nav className=\"space-y-4\">\n        {sections.map((section, index) => (\n          <div key={index}>\n            {section.items && (\n              <ol className=\"mt-2 space-y-1 border-l border-neutral-700 pl-4 relative\">\n                <div\n                  className={`absolute left-0 w-0.75 transition-all duration-300 ease-out rounded-full ${indicatorClassName}`}\n                  style={{\n                    top: `${getActiveItemPosition()}px`,\n                    height: \"22px\",\n                    transform: \"translateX(-1px)\",\n                  }}\n                />\n                {section.items.map((item, i) => {\n                  const isActive = activeId === item.href.replace(\"#\", \"\");\n                  return (\n                    <li key={i}>\n                      {renderItem ? (\n                        renderItem(item, isActive)\n                      ) : (\n                        <a\n                          href={item.href}\n                          onClick={(e) => {\n                            e.preventDefault();\n                            handleClick(item.href);\n                          }}\n                          className={`text-sm transition ${\n                            isActive || (i === 0 && activeId === \"\")\n                              ? activeClassName\n                              : inactiveClassName\n                          }`}\n                        >\n                          {item.title}\n                        </a>\n                      )}\n                    </li>\n                  );\n                })}\n              </ol>\n            )}\n          </div>\n        ))}\n      </nav>\n    </div>\n  );\n}\n",
      "type": "registry:ui"
    }
  ],
  "tailwind": {
    "config": {
      "theme": {
        "extend": {}
      }
    }
  },
  "cssVars": {},
  "meta": {
    "importSpecifier": "@/components/ui/on-this-page",
    "category": "ui",
    "subcategory": "component",
    "tags": [
      "ui",
      "component",
      "form"
    ],
    "author": {
      "name": "ElixirLabs",
      "url": "https://elixirlabs.in",
      "github": "https://github.com/elixirlabs"
    },
    "version": "1.0.0",
    "license": "MIT",
    "createdAt": "2025-08-11T08:28:30.854Z"
  },
  "docs": "https://ui.elixirlabs.in/docs/components/on-this-page",
  "source": "https://github.com/elixirlabs/ui/tree/main/src/registry/on-this-page.tsx"
}